Проектируем маркет плейс

Упростим функционал, так как это учебная задача.

Менеджер добавляет товар: Менеджер онлайн-магазина может добавлять новые товары в систему.

Пользователь ищет конкретный товар по имени: Пользователь вводит название товара, чтобы найти его.

Теперь давайте с помощью Domain-Driven Design (DDD) декомпозируем этот процесс и упростим структуру сущностей и отношений.
Шаг 1: DDD-декомпозиция предметной области

Основные сущности:

Товар (Product) – это основная сущность, предоставляемая магазином, объект, который можно искать
Менеджер (Manager) – это роль пользователя, которая имеет возможность добавлять новые товары в систему.
Пользователь (User) – человек, который работает с системой для поиска товаров


Объекты значений:

ID - уникальный идентификатор товара
Цена (Price) – стоимость товара.
Название (Name) – название товара.
Описание (Description) – краткое описание товара для отображения на веб-сайте.


Агрегаты:
Product (Товар):

ID товара (уникальный идентификатор товара)
Название товара (Name)
Цена (Price)
Описание (Description)

Словарь терминов (глоссарий):
Товар (Product): это объект, который добавляется в магазин и доступен для покупки (хотя покупку мы в этой упрощенной схеме не рассматриваем).
Менеджер (Manager): это роль пользователя, позволенная добавлять новые товары в систему.
Пользователь (User): человек, который взаимодействует с системой для поиска товаро


Шаг 2: Проектирование сервисов на уровне API
Теперь, когда у нас есть минимальный доменный контекст, давайте спроектируем упрощенную систему API для взаимодействия. Ниже описаны основные операции для работы с товарами

Product Service (Сервис работы с товарами)
1. Менеджер добавляет новый товар:
POST /products
Описание:

Операция для менеджеров, которая позволяет добавить новый товар в систему.
Поля ввода:
Название товара (Name)
Описание товара (Description)
SKU (Уникальный идентификатор товара)
Цена (Price)
Пример запроса:

{
  "name": "Смартфон Samsung Galaxy S23",
  "description": "Флагманский смартфон от компании Samsung",
  "sku": "S23SMG",
  "price": 79990,
}


2. Пользователь ищет товар по названию:
GET /products?query={searchQuery}
Описание:

Операция поиска товара через текстовый запрос.
Поле query представляет собой строку поиска, которую пользователь вводит.
Пример запроса:

GET /products?query=Смартфон Samsung Galaxy S23
Пример ответа:

[
  {
    "productId": 101,
    "name": "Смартфон Samsung Galaxy S23",
    "description": "Флагманский смартфон от компании Samsung",
    "sku": "S23SMG",
    "price": 79990,
  }
]
